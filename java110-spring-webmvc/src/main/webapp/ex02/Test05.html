<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

<h1>TEST05 페이지 컨트롤러</h1>
<button id="btn1">요청: name 헤더 추가하여 요청하기</button><br>
<button id="btn2">요청: age 헤더 추가하여 요청하기</button><br>
<button id="btn3">요청: name과 age 헤더 추가하여 요청하기</button><br>
<button id="btn4">요청</button><br>



<!-- 예전엔 위에 뒀지만 요즘엔 밑에 둔다 --><!-- 왜 why?? 찾아바~ -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
$("#btn1").click(()=>{
    jQuery.ajax("http://localhost:8888/app/ex02/test05",{
        method: 'GET',
        headers:{
            name: encodeURIComponent("홍길동")  /* 한글이라 encodeURIComponent 사용
            브라우저는 자동으로 인코딩하지만 ajax는 개발자가 해줘야한다. */
        },
        success:(result)=>{
            alert(result);
        },
        error:(xhr,status,msg)=>{
            console.log(status);
            console.log(msg);
        }
    });
});

$("#btn2").click(() => {
    jQuery.ajax("http://localhost:8888/app/ex02/test05", {
        method: 'GET',
        headers: {
            age: 20
        },
        success: (result) => {
            alert(result);
        },
        error: (xhr, status, msg) => {
            console.log(status);
            console.log(msg);
        }
    });
});
$("#btn3").click(() => {
    jQuery.ajax("http://localhost:8888/app/ex02/test05", {
        method: 'GET',
        headers: {
            age: 20,
            name: encodeURIComponent("홍길동")
        },
        success: (result) => {
            alert(result);
        },
        error: (xhr, status, msg) => {
            console.log(status);
            console.log(msg);
        }
    });
});
$("#btn4").click(() => {
    jQuery.ajax("http://localhost:8888/app/ex02/test05", {
        method: 'GET',
        success: (result) => {
            alert(result);
        },
        error: (xhr, status, msg) => {
            console.log(status);
            console.log(msg);
        }
    });
});
</script>

</body>
</html>

